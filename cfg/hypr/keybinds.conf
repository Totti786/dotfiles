# █▄▄ █ █▄░█ █▀▄ █ █▄░█ █▀▀ █▀
# █▄█ █ █░▀█ █▄▀ █ █░▀█ █▄█ ▄█

# Binds, see https://wiki.hypr.land/Configuring/Binds for more

exec = hyprctl dispatch submap global # DO NOT REMOVE THIS OR YOU WON'T BE ABLE TO USE ANY KEYBIND
submap = global # This is required for catchall to work

#!
##! Shell
# These absolutely need to be on top, or they won't work consistently
bindid = Super, Super_L, Toggle search, global, quickshell:searchToggleRelease # Toggle Search
bind = Super, Super_L, exec, qs -c $qsConfig  ipc call TEST_ALIVE || pkill rofi || rofi-utils --launch # [hidden] Launcher (fallback)
binditn = Super, catchall, global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Ctrl, Super_L, global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Super, mouse:272, global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Super, mouse:273, global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Super, mouse:274, global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Super, mouse:275, global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Super, mouse:276, global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Super, mouse:277, global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Super, mouse_up,  global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Super, mouse_down,global, quickshell:searchToggleReleaseInterrupt # [hidden]
bind = Super, Tab, global, quickshell:overviewWorkspacesToggle # Toggle overview

bindit = ,Super_L, global, quickshell:workspaceNumber # [hidden]
bindd = Super, V, Clipboard, global, quickshell:overviewClipboardToggle # Clipboard
bindd = Super, Period, Emojis, global, quickshell:overviewEmojiToggle # Emojis
bindd = Super, Comma, Toggle bar, global, quickshell:barToggle # Toggle bar
bindd = Super, Slash, Toggle cheatsheet, global, quickshell:cheatsheetToggle # Toggle Cheatsheet
bind = Super, G, global, quickshell:overlayToggle # Toggle Overlay
bindd = Super, K, Toggle on-screen keyboard, global, quickshell:oskToggle # Toggle On-screen Keyboard
bindd = Super, X, Toggle session menu, global, quickshell:sessionToggle # Toggle Session Menu
bindd = Super, U, Toggle left sidebar, global, quickshell:sidebarLeftToggle # Toggle left sidebar
bindd = Super, I, Toggle right sidebar, global, quickshell:sidebarRightToggle # Toggle left sidebar
bind = Super, X, exec, qs -c $qsConfig ipc call TEST_ALIVE || pkill rofi || rofi-utils --power # [hidden] Session Menu (fallback)
bindd = Super Shift, W, Toggle wallpaper selector, global, quickshell:wallpaperSelectorToggle # [hidden] Wallpaper selector
bindd = Super Shift, W, Change wallpaper, exec, qs -c $qsConfig ipc call TEST_ALIVE || wpgtk --pick # [hidden]
bindd = Super Shift, Slash, Toggle cheatsheet, exec, qs -p ~/.config/quickshell/$qsConfig/settings.qml # Quickshell Settings
bind =  Ctrl Shift, R, exec, killall ags agsv1 gjs ydotool qs quickshell; qs -c $qsConfig & # Restart Widgets

##! Workspace
# Switching
#/# bind = Super, Hash,, # Focus Workspace [0-9]
bind = Super, 1, workspace, 1 # [hidden]
bind = Super, 2, workspace, 2 # [hidden]
bind = Super, 3, workspace, 3 # [hidden]
bind = Super, 4, workspace, 4 # [hidden]
bind = Super, 5, workspace, 5 # [hidden]
bind = Super, 6, workspace, 6 # [hidden]
bind = Super, 7, workspace, 7 # [hidden]
bind = Super, 8, workspace, 8 # [hidden]
bind = Super, 9, workspace, 9 # [hidden]
bind = Super, 0, workspace, 10 # [hidden]

# Switch workspaces with arrows or jkl;
#/# bind = Super+Ctrl, ←/↑/→/↓,, # Move to Workspace in Direction
binde = Super Ctrl, left, workspace, -1 # [hidden]
binde = Super Ctrl, right, workspace, +1 # [hidden]
binde = Super Ctrl, up, workspace, -1 # [hidden]
binde = Super Ctrl, down, workspace, +1 # [hidden]

binde = Super Ctrl, J, workspace, -1 # [hidden]
binde = Super Ctrl, SemiColon, workspace, +1 # [hidden]
binde = Super Ctrl, K, workspace, -1 # [hidden]
binde = Super Ctrl, L, workspace, +1 # [hidden]

# Move active window to a workspace with Super + Shift + [0-9] and don't switch workspace
#/# bind = Super Shift, Hash,, # Move Active Window to Workspace [0-9]
bind = Super Shift, 1, movetoworkspacesilent, 1 # [hidden]
bind = Super Shift, 2, movetoworkspacesilent, 2 # [hidden]
bind = Super Shift, 3, movetoworkspacesilent, 3 # [hidden]
bind = Super Shift, 4, movetoworkspacesilent, 4 # [hidden]
bind = Super Shift, 5, movetoworkspacesilent, 5 # [hidden]
bind = Super Shift, 6, movetoworkspacesilent, 6 # [hidden]
bind = Super Shift, 7, movetoworkspacesilent, 7 # [hidden]
bind = Super Shift, 8, movetoworkspacesilent, 8 # [hidden]
bind = Super Shift, 9, movetoworkspacesilent, 9 # [hidden]
bind = Super Shift, 0, movetoworkspacesilent, 10 # [hidden]

# Move active window to a the adjacent workspace with Super + Shift + Ctrl + [Arrows] or [jkl;]
binde = Super Ctrl Shift, left, movetoworkspace, -1 # [hidden]
binde = Super Ctrl Shift, right, movetoworkspace, +1 # [hidden]
binde = Super Ctrl Shift, up, movetoworkspace, -1 # [hidden]
binde = Super Ctrl Shift, down, movetoworkspace, +1 # [hidden]

binde = Super Ctrl Shift, J, movetoworkspace, -1 # [hidden]
binde = Super Ctrl Shift, SemiColon, movetoworkspace, +1 # [hidden]
binde = Super Ctrl Shift, K, movetoworkspace, -1 # [hidden]
binde = Super Ctrl Shift, L, movetoworkspace, +1 # [hidden]

# Move active window to a workspace with Super + Ctrl + [0-9] 
bind = Super Ctrl, 1, movetoworkspace, 1 # [hidden]
bind = Super Ctrl, 2, movetoworkspace, 2 # [hidden]
bind = Super Ctrl, 3, movetoworkspace, 3 # [hidden]
bind = Super Ctrl, 4, movetoworkspace, 4 # [hidden]
bind = Super Ctrl, 5, movetoworkspace, 5 # [hidden]
bind = Super Ctrl, 6, movetoworkspace, 6 # [hidden]
bind = Super Ctrl, 7, movetoworkspace, 7 # [hidden]
bind = Super Ctrl, 8, movetoworkspace, 8 # [hidden]
bind = Super Ctrl, 9, movetoworkspace, 9 # [hidden]
bind = Super Ctrl, 0, movetoworkspace, 10 # [hidden]

##! Mouse Bindings
# Move/resize windows with Super + LMB/RMB and dragging
#/# bind = Super , Left Click,, # Move Window
bindm = Super, mouse:272, movewindow # [hidden]
#/# bind = Super , Right Click,, # Resize Window
bindm = Super, mouse:273, resizewindow # [hidden]

# Scroll through existing workspaces with Super + scroll
bind = Super, mouse_up, workspace, +1 # [hidden]
bind = Super, mouse_down, workspace, -1 # [hidden]

#!
##! Window Managment
#/# bind = Super, Q/C,, # Close Window
bind = Super, Q, killactive, # [hidden]
bind = Super, C, killactive, # [hidden]
bind = Super, Escape, exec, hyprctl kill # Force Close Window

# Positioning
bind = Super, Space, togglefloating, # Toggle Floating
bind = Super Shift, F, fullscreen, 0 # Toggle Fullscreen
bind = Ctrl Alt, F, fullscreen, 1 # Maximaize
bind = Super Alt, F, fullscreenstate, 0 3 # [hidden]
bind = Super Shift, P, pin, # [hidden]
bind = Super Shift, Space, pseudo, # [hidden]
bind = Super Shift, up, togglesplit, # [hidden]
bind = Super Shift, down, togglesplit, # [hidden]

# Focus
#/# bind = Super, ←/↑/→/↓,, # Focus in direction
bind = Super, left, movefocus, l # [hidden]
bind = Super, right, movefocus, r # [hidden]
bind = Super, up, movefocus, u # [hidden]
bind = Super, down, movefocus, d # [hidden]

bind = Super, J, movefocus, l # [hidden]
bind = Super, SemiColon, movefocus, r # [hidden]
bind = Super, K, movefocus, u # [hidden]
bind = Super, L, movefocus, d # [hidden]

# Move
#/# bind = Super+Shift, ←/↑/→/↓,, # Move in direction
bind = Super Shift, left, movewindow, l # [hidden]
bind = Super Shift, right, movewindow, r # [hidden]
bind = Super Shift, up, movewindow, u # [hidden]
bind = Super Shift, down, movewindow, d # [hidden]

bind = Super Shift, J, movewindow, l # [hidden]
bind = Super Shift, SemiColon, movewindow, r # [hidden]
bind = Super Shift, K, movewindow, u # [hidden]
bind = Super Shift, L, movewindow, d # [hidden]

# Resize
#/# bind = Super+Alt, ←/↑/→/↓,, # Resize in direction
binde = Super Alt, left, resizeactive, -30 0 # [hidden]
binde = Super Alt, right, resizeactive, 30 0 # [hidden]
binde = Super Alt, up, resizeactive, 0 -30 # [hidden]
binde = Super Alt, down, resizeactive, 0 30 # [hidden]

binde = Super Alt, J, resizeactive, -30 0 # [hidden]
binde = Super Alt, SemiColon, resizeactive, 30 0 # [hidden]
binde = Super Alt, K, resizeactive, 0 -30 # [hidden]
binde = Super Alt, L, resizeactive, 0 30 # [hidden]

# Tabbed
bind = Super Shift, G, togglegroup # [hidden]
binde = Super Shift, tab, changegroupactive # [hidden]

# Special
bind = Super, D, togglespecialworkspace, special # Move Window to Special Workspace
bind = Super Shift, D, movetoworkspacesilent, special # Toggle Special Workspace

# Switch
binde = Alt, Tab, cyclenext # [hidden]
bind = Alt, Tab, bringactivetotop, # [hidden]

###! Volume control
bindle = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.5 @DEFAULT_SINK@ 5%+ # [hidden]
bindle = , XF86AudioLowerVolume, exec, wpctl set-volume -l 1.5 @DEFAULT_SINK@ 5%- # [hidden]
bindl  = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_SINK@ toggle # [hidden]
bindl  = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_SOURCE@ toggle # [hidden]

###! Brighness control
bindle=, XF86MonBrightnessUp, exec, qs -c $qsConfig ipc call brightness increment || brightnessctl set 5%+ # [hidden]
bindle=, XF86MonBrightnessDown, exec, qs -c $qsConfig ipc call brightness decrement || brightnessctl set 5%- # [hidden]

# Auto Brighness control
bindl = Super, XF86MonBrightnessUp, exec, auto-brightness # [hidden]

##! Screenshot
# Screenshot, Record, OCR, Color picker, Clipboard history
bindl = , Print, exec, shot --now # Screenshot
bind  = Shift, Print, global, quickshell:regionScreenshot # Screen snip
bind  = Shift, Print, global, exec, qs -c $qsConfig ipc call TEST_ALIVE || shot --area # [hidden] Screen snip (fallback)
bind = Super+Shift, A, global, quickshell:regionSearch # Google Lens
bind  = Alt, Print, exec, shot --text # Extract Text
bind  = Ctrl, Print, exec, shot --edit # Edit Screenshot
bind = Super, S, exec, pkill rofi || rofi-utils --shot # Screenshot Applet
bind = Super, P, exec, color-picker # Color Picker

##! Screen
# Zoom
binde = Super, Equal, exec, qs -c $qsConfig ipc call zoom zoomIn # Zoom in
binde = Super, Minus, exec, qs -c $qsConfig ipc call zoom zoomOut # Zoom out

#!
##! Media control
bindl = , XF86AudioMedia, exec, playerctl -a play-pause  # [hidden]
bindl = , XF86AudioStop , exec, playerctl -a stop # [hidden]
bindl = , XF86AudioPlay , exec, playerctl play-pause # [hidden]
bindl = , XF86AudioPrev , exec, playerctl previous # [hidden]
bindl = , XF86AudioNext , exec, playerctl next # [hidden]

bindl = Super, XF86AudioRaiseVolume, exec, playerctl volume 0.05+ # [hidden]
bindl = Super, XF86AudioLowerVolume, exec, playerctl volume 0.05- # [hidden]
bindl = Super, XF86AudioMute, exec, playerctld shift # [hidden]

bindl = Ctrl Alt, P, exec, playerctl play-pause # Play/Pause
#/# bind = Ctrl+Alt, ←/→,, # Previous/Next Track
#/# bind = Ctrl+Alt, ↑/↓,, # Increase/Decrease App Volume
bindl = Ctrl Alt, right, exec, playerctl next # [hidden]
bindl = Ctrl Alt, left, exec, playerctl previous # [hidden]
bindel = Ctrl Alt, up, exec, playerctl volume 0.05+ # [hidden]
bindel = Ctrl Alt, down, exec, playerctl volume 0.05- # [hidden]
#bindl = Ctrl Shift Alt, left, exec, playerctl position 10- # [hidden]
#bindl = Ctrl Shift Alt, right, exec, playerctl position 10+ # [hidden]

###! Rofi Tools
bind = Super Shift, R, exec, pkill rofi || rofi-utils --record # Recorder
bind = Super, R, exec, pkill rofi || rofi-reader # Reader
bind = Super, A, exec, pkill rofi || mediator --anime # Anime
bind = Super, N, exec, pkill rofi || mediator --shows # Shows
bind = Super, M, exec, pkill rofi || mediator --movies # Movies

##! Apps
bind = Alt, Return, togglespecialworkspace, drop # [hidden]
bind = Ctrl Shift, Return, exec,hyprspace # Dashboard
bind = Super Shift, Return, exec, [float] terminal # Floating Terminal
bind = Super, Return, exec, terminal # Terminal
bind = Super, T, exec, terminal --full # [hidden]
bind = Super, E, exec, thunar # File Manager
bind = Super, W, exec, geany # Text Editor
bind = Super, F, exec, firefox # Browser
bind = Super, Z, exec, discord # Discord
bind = Super, O, exec, obs # [hidden]

bind = Super Shift, S, exec, gtk-launch spotify-adblock || gtk-launch spotify # Spotify
bind = Super Shift, V, exec, [[ -z "$(pgrep pavucontrol)" ]] && pavucontrol # [hidden]
bind = Super Shift, V, togglespecialworkspace, pavu # [hidden]

##! Wallpaper
bind  = Ctrl Alt, W, exec, wpgtk --random # Set Random Wallpaper
#/# bind = Super+Shift, W,, # Wallpaper selector
bind = Super Shift, M, exec, wpgtk --reload # Reload Colors
bind = Ctrl Alt, Delete, exec, wpgtk --purge # [hidden]

##! Session
bindld = Ctrl Alt, L,Lock, exec, loginctl lock-session # Lock Screen

# trigger when the lid is closed
bindl = , switch:on:Lid Switch,exec, if [[ $(qs -c ii ipc call idle status)  == 0 ]]; then systemctl suspend ;else hyprctl dispatch dpms off ;fi # [hidden]
# trigger when the lid is opened
bindl = , switch:off:Lid Switch,exec,hyprctl dispatch dpms on # [hidden]
# trigger when the power button is pressed
bindl = , XF86PowerOff, exec, systemctl suspend # [hidden]

##! Virtual machines
bind = Super+Alt, F1, exec, notify-send 'Entered Virtual Machine submap' 'Keybinds disabled. Hit Super+Alt+F1 to escape' -a 'Hyprland' && hyprctl dispatch submap virtual-machine # Disable keybinds
submap = virtual-machine
bind = Super+Alt, F1, exec, notify-send 'Exited Virtual Machine submap' 'Keybinds re-enabled' -a 'Hyprland' && hyprctl dispatch submap global # [hidden]
submap = global

## Touchpad Gestures
gesture = 3, vertical, workspace
gesture = 3, down, mod: SUPER, close
gesture = 3, up, mod: SUPER, scale: 1.5, fullscreen
gesture = 3, swipe, move,
gesture = 3, pinch, float
