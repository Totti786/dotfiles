# Hyprland config file.
#
# Refer to the wiki for more information. 
#
# https://wiki.hyprland.org/

█▀▄▀█ █▀█ █▄░█ █ ▀█▀ █▀█ █▀█
█░▀░█ █▄█ █░▀█ █ ░█░ █▄█ █▀▄

# See https://wiki.hyprland.org/Configuring/Monitors/
monitor = ,preferred,auto,1

# Add area for widgets and similar (some bars will make reserved space on their own 'eg. Waybar')
# monitor = DP-1, addreserved, 0, 0, 0, 0

#-----------------------------------------------------------------------#

█▀ ▀█▀ ▄▀█ █▀█ ▀█▀ █░█ █▀█
▄█ ░█░ █▀█ █▀▄ ░█░ █▄█ █▀▀

# Required at launch
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = ~/.config/hypr/scripts/sessionctl
exec-once = /usr/lib/xfce-polkit/xfce-polkit
exec-once = /usr/lib/kdeconnectd
exec-once = libinput-gestures
exec-once = ydotoold
exec-once = dunst

# Load UI components
exec-once = gsettings set org.gnome.desktop.interface cursor-theme 'Fluent-dark'
exec-once = gsettings set org.gnome.desktop.interface font-name 'Noto Sans 9'
exec-once = gsettings set org.gnome.desktop.interface gtk-theme 'FlatColor'
exec-once = gsettings set org.gnome.desktop.interface icon-theme 'Papirus'
exec-once = ~/.config/waybar/launch_waybar
exec-once = nm-applet --indicator
exec-once = swayosd

# Clipboard manager
exec-once = copyq --start-server

# Set wallpaper with some delay so the transition effect plays on login

exec-once = ~/.config/hypr/scripts/wall "$(cat .fehbg | cut -d "'" -f2  | tail -n1)"

# Source a file (multi-file configs)
source = ~/.config/hypr/colors.conf

#-----------------------------------------------------------------------#

█ █▄░█ █▀█ █░█ ▀█▀
█ █░▀█ █▀▀ █▄█ ░█░

input {
	kb_layout = us,sy
	kb_variant = ffffff
	kb_model =
	kb_options = grp:alt_shift_toggle
	kb_rules =
	
	follow_mouse = 1
	
touchpad {
	disable_while_typing = 1
	natural_scroll = 0
	clickfinger_behavior = 1
	middle_button_emulation = 0
	tap-to-click = 1
}
}
gestures {
	workspace_swipe=yes
	workspace_swipe_fingers=4
}

#-----------------------------------------------------------------------#

█▀▀ █▀▀ █▄░█ █▀▀ █▀█ ▄▀█ █░░
█▄█ ██▄ █░▀█ ██▄ █▀▄ █▀█ █▄▄

general {
# See https://wiki.hyprland.org/Configuring/Variables/ for more
	gaps_in = 5
	gaps_out = 10
	border_size = 3
	col.active_border = rgba($blue) rgba($cyan) 45deg
	col.inactive_border = rgba($magenta) rgba($yellow) 60deg
	col.group_border = rgba($magenta) rgba($yellow) 60deg
	col.group_border_active = rgba($blue) rgba($cyan) 45deg

# whether to apply the sensitivity to raw input (e.g. used by games where you aim using your mouse)
	layout = dwindle
	sensitivity = 1.0 # for mouse cursor
	apply_sens_to_raw = 0
}

# Layouts
dwindle {
# See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = true # enable pseudotiling on dwindle
    force_split = 2
    preserve_split = true
    use_active_for_splits = true    
    special_scale_factor = 0.8
	}


# █▀▄ █▀▀ █▀▀ █▀█ █▀█ ▄▀█ ▀█▀ █ █▀█ █▄░█
# █▄▀ ██▄ █▄▄ █▄█ █▀▄ █▀█ ░█░ █ █▄█ █░▀█

decoration {
# See https://wiki.hyprland.org/Configuring/Variables/ for more

    rounding = 12
    multisample_edges = true

    dim_inactive = false
    dim_strength = 0.05

# Your blur "amount" is blur_size * blur_passes, but high blur_size (over around 5-ish) will produce artifacts.
# if you want heavy blur, you need to up the blur_passes.
# the more passes, the more you can up the blur_size without noticing artifacts.

    blur = true
    blur_size = 5
    blur_passes = 2
    blur_new_optimizations = true
    blur_ignore_opacity = true

    drop_shadow = false
    shadow_ignore_window = true
    shadow_range = 20
    shadow_render_power = 3
    
# Blurring layerSurfaces (UI components like bars, application launchers, etc)
	blurls = gtk-layer-shell
    blurls = notifications
    blurls = waybar
    blurls = lockscreen
    blurls = rofi
    blurls = wofi
	}


▄▀█ █▄░█ █ █▀▄▀█ ▄▀█ ▀█▀ █ █▀█ █▄░█
█▀█ █░▀█ █ █░▀░█ █▀█ ░█░ █ █▄█ █░▀█

animations {
# Animations, see https://wiki.hyprland.org/Configuring/Animations/ for more

	enabled = true
	# Format
	# animation=NAME,ONOFF,SPEED,CURVE,STYLE
	# animation=windows,1,10,myEpicCurve,slide
	
	bezier = easeInOutSine, 0.37, 0, 0.63, 1
	bezier = overshot, 0.13,0.99,0.29,1.1
	bezier = easeOutQuart, 0.25, 1, 0.5, 1
	bezier = easeOutQuint, 0.22, 1, 0.36, 1
	
	# Widnows
	animation = windows, 1, 3, overshot , slide
	animation = windowsIn, 1, 3, easeOutQuint , slide
	animation = windowsOut, 1, 3, easeOutQuart, slide
	animation = windowsMove, 1, 5, easeOutQuart
	
	# Fade 
	animation = fade, 1, 5, overshot
	animation = border, 1, 7, easeOutQuint
	animation = workspaces, 1, 4, easeOutQuart, slide
	
}

# Misc
misc {
	disable_hyprland_logo = true
	disable_splash_rendering = true
	mouse_move_enables_dpms = true
	enable_swallow = true
	}

binds {
    allow_workspace_cycles = true
	}

#-----------------------------------------------------------------------#

█▄▄ █ █▄░█ █▀▄ █ █▄░█ █▀▀ █▀
█▄█ █ █░▀█ █▄▀ █ █░▀█ █▄█ ▄█

# Binds, see https://wiki.hyprland.org/Configuring/Binds/ for more

# Window Managment
bind = SUPER, Q, killactive,
bind = SUPER, C, killactive,
bind = SUPER SHIFT, Q, exit,
bind = SUPER SHIFT, F, fullscreen,
bind = SUPER, Space, togglefloating,
bind = SUPER SHIFT, Space, pseudo, # dwindle
bind = SUPER, R, togglesplit, # dwindle

# Focus
bind = SUPER, left, movefocus, l
bind = SUPER, right, movefocus, r
bind = SUPER, up, movefocus, u
bind = SUPER, down, movefocus, d

# Move
bind = SUPER SHIFT, left, movewindow, l
bind = SUPER SHIFT, right, movewindow, r
bind = SUPER SHIFT, up, movewindow, u
bind = SUPER SHIFT, down, movewindow, d

# Resize
bind = SUPER ALT, left, resizeactive, -20 0
bind = SUPER ALT, right, resizeactive, 20 0
bind = SUPER ALT, up, resizeactive, 0 -20
bind = SUPER ALT, down, resizeactive, 0 20

# Tabbed
bind= SUPER SHIFT, G, togglegroup
bind= SUPER, tab, changegroupactive

# Special
bind = SUPER, D, togglespecialworkspace
bind = SUPER SHIFT, C, movetoworkspace, special

# Switch workspaces with mainMod + [0-9]
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10

bind = SUPER CTRL, right, workspace, e+1
bind = SUPER CTRL, left, workspace, e-1

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, 10

# Move active window to a workspace with SUPER + SHIFT + [0-9] and don't switch workspace
bind = SUPER CTRL, 1, movetoworkspacesilent, 1
bind = SUPER CTRL, 2, movetoworkspacesilent, 2
bind = SUPER CTRL, 3, movetoworkspacesilent, 3
bind = SUPER CTRL, 4, movetoworkspacesilent, 4
bind = SUPER CTRL, 5, movetoworkspacesilent, 5
bind = SUPER CTRL, 6, movetoworkspacesilent, 6
bind = SUPER CTRL, 7, movetoworkspacesilent, 7
bind = SUPER CTRL, 8, movetoworkspacesilent, 8
bind = SUPER CTRL, 9, movetoworkspacesilent, 9
bind = SUPER CTRL, 0, movetoworkspacesilent, 10

# Mouse Bindings
# Move/resize windows with Super + LMB/RMB and dragging
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

# Scroll through existing workspaces with Super + scroll
bind = SUPER, mouse_down, workspace, e-1
bind = SUPER, mouse_up, workspace, e+1

# Audio control
bind = , XF86AudioRaiseVolume, exec, swayosd --output-volume raise
bind = , XF86AudioLowerVolume, exec, swayosd --output-volume lower
bind = , XF86AudioMute, exec, swayosd --output-volume mute-toggle
bind = , XF86AudioMicMute, exec, swayosd --input-volume mute-toggle

# Media control
bindl = , XF86AudioMedia, exec, playerctl -a play-pause
bindl = , XF86AudioStop, exec, playerctl -a stop
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioPrev, exec, playerctl previous
bind = , XF86AudioNext, exec, playerctl next

# Brighness control
bind = , XF86MonBrightnessUp, exec, brightness --inc
bind = , XF86MonBrightnessDown, exec, brightness --dec

bind = , Caps_Lock, exec, swayosd --caps-lock

# Screenshots
bind = , Print, exec, takeshot --now
bind = ALT, Print, exec, takeshot --area

# Programs
bind = SUPER, RETURN, exec, alacritty
bind = SUPER SHIFT, RETURN, exec, furminal --float
bind = SUPER, escape, exec, hyprctl kill
bind = SUPER SHIFT, S, exec,spotify
bind = SUPER, T, exec, furminal --full
bind = SUPER, P, exec, color-picker
bind = SUPER, E, exec, thunar
bind = SUPER, W, exec, geany
bind = SUPER, F, exec, firefox
bind = SUPER, Z, exec, discord
bind = SUPER, G, exec, zathura
bind = SUPER, V, exec, copyq show

bind = CTRL ALT, L, exec, lockscreen

bind = SUPER, S, exec, pkill rofi || ~/.config/rofi/bin/screenshot
bind = SUPER, X, exec, pkill rofi || ~/.config/rofi/bin/powermenu
bindr = SUPER, SUPER_L, exec, pkill rofi || ~/.config/rofi/bin/launcher

bind = SUPER SHIFT, W, exec, ~/.local/bin/wpgtk pick
bind = SUPER SHIFT, M, exec, ~/.config/waybar/launch_waybar

#-----------------------------------------------------------------------#

█░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀█ █░█ █░░ █▀▀ █▀
▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █▀▄ █▄█ █▄▄ ██▄ ▄█

# Example windowrule v1
# windowrule = float, ^(kitty)$
# Example windowrule v2
# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# windowrulev2 = tile, class:^(Spotify)$

# Float Rules
windowrule = float, file_progress
windowrule = float, confirm
windowrule = float, dialog
windowrule = float, copyq
windowrule = float, alacritty-float
windowrule = float, download
windowrule = float, notification
windowrule = float, error
windowrule = float, xfce-polkit
windowrule = float, splash
windowrule = float, confirmreset
windowrule = float, title:Open File
windowrule = float, title:branchdialog
windowrule = float, Lxappearance
windowrule = float, Viewnior
windowrule = float, feh
windowrule = float, eog
windowrule = float, wpg
windowrule = float, Steam
windowrule = float, trackma-gtk
windowrule = float, pavucontrol
windowrule = float, nm-connection-editor
windowrule = float, org.gnome.Calculator
windowrule = float, com.obsproject.Studio
windowrule = float, org.qbittorrent.qBittorrent
windowrule = float, file-roller
windowrule = float, title:File Operation Progress
windowrule = float, title:Confirm to replace files
windowrule = float, title:KDE Connect URL handler
windowrule = float, title:^(Media viewer)$
windowrule = float, title:^(Volume Control)$
windowrule = float, title:^(Picture-in-Picture)$
windowrule = float, title:^(Library)$

#windowrule = float, ^waydroid.*$

windowrule = idleinhibit focus, mpv
windowrule = idleinhibit fullscreen, firefox

windowrule = size 800 600, title:^(Volume Control)$
windowrule = size 343 539, org.gnome.Calculator
windowrule = size 1000 600, Viewnior

windowrule = move 55% 40%, title:^(Volume Control)$

windowrule = tile,Spotify
windowrule = tile,Microsoft-edge-beta

windowrule = pin, title:Picture-in-Picture

windowrulev2 = float,class:^(blueman-manager)$

# Opacity Rules
windowrulev2 = opacity 0.85 0.85,class:thunar
windowrulev2 = opacity 0.85 0.85,class:org.gnome.Nautilus
windowrulev2 = opacity 0.99 0.99,class:firefox
windowrulev2 = opacity 0.85 0.85,class:geany
windowrulev2 = opacity 0.90 0.90,class:zathura
windowrulev2 = opacity 0.85 0.85,class:pavucontrol
windowrulev2 = opacity 0.80 0.80,class:discord
windowrulev2 = opacity 0.80 0.80,class:WebCord
windowrulev2 = opacity 0.80 0.80,class:Spotify

## A horrible solution to an issue that shouldn't exist
# Global persistent workspace rules 
windowrule=float,title:^PERSISTENT_WORKSPACE.*$
windowrule=nofocus,title:^PERSISTENT_WORKSPACE.*$
windowrule=noblur,title:^PERSISTENT_WORKSPACE.*$
windowrule=size 0 0,title:^PERSISTENT_WORKSPACE.*$
windowrule=move 0 0,title:^PERSISTENT_WORKSPACE.*$
windowrule=opacity 0,title:^PERSISTENT_WORKSPACE.*$
# Individual persistent workspace rules
windowrule=workspace 1,title:^(PERSISTENT_WORKSPACE_1)$
windowrule=workspace 2,title:^(PERSISTENT_WORKSPACE_2)$
windowrule=workspace 3,title:^(PERSISTENT_WORKSPACE_3)$
windowrule=workspace 4,title:^(PERSISTENT_WORKSPACE_4)$
windowrule=workspace 5,title:^(PERSISTENT_WORKSPACE_5)$
windowrule=workspace 6,title:^(PERSISTENT_WORKSPACE_6)$
windowrule=workspace 7,title:^(PERSISTENT_WORKSPACE_7)$
windowrule=workspace 8,title:^(PERSISTENT_WORKSPACE_8)$
# Exec commands to keep each workspace persistent 
exec-once=alacritty -t PERSISTENT_WORKSPACE_1 & 
exec-once=alacritty -t PERSISTENT_WORKSPACE_2 & 
exec-once=alacritty -t PERSISTENT_WORKSPACE_3 & 
exec-once=alacritty -t PERSISTENT_WORKSPACE_4 & 
exec-once=alacritty -t PERSISTENT_WORKSPACE_5 & 
exec-once=alacritty -t PERSISTENT_WORKSPACE_6 & 
exec-once=alacritty -t PERSISTENT_WORKSPACE_7 & 
exec-once=alacritty -t PERSISTENT_WORKSPACE_8 & 
